function e(e){return e.map((({original_title:e,release_date:t,genre_ids:n,poster_path:i})=>`<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${i}"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${d(n)} | ${new Date(t).getFullYear()}\n          </p>\n        </div>\n      \n    </div>`)).join("")}function t(e){e.innerHTML=""}function n(e){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}let i=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{i=e.genres})).catch((e=>console.log(e)));let r,a=1,l=1;const o={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};let c,s,m,u;function d(e){let t=[];return e.forEach((e=>{t.push(i.find((t=>t.id===e)).name)})),t}function g(e){o.incrementBtnEl.addEventListener("click",f),o.decrementBtnEl.addEventListener("click",p),console.log("i",l),o.paginationWrapEl.innerHTML='<ul class="pagination__list list"></ul>',c=document.querySelector(".pagination__list"),c.addEventListener("click",_);for(let e=1;e<=9;e++){const t=`item${e}`,n=document.createElement("li");n.classList.add("pagination__item"),n.classList.add(t),n.innerText=a,c.appendChild(n),Number(l)===e&&n.classList.add("pagination__item--active")}if(c.firstChild.textContent="1",c.lastChild.textContent=r,a<=6){for(let e=2;e<=7;e++){const t=`.item${e}`;c.querySelector(t).textContent=e}c.querySelector(".item8").textContent="...",c.querySelector(".item8").setAttribute("action","plus")}if(a>6&&a<=r-5){for(let e=-2;e<=2;e++)m=Number(l)+e,u=`.item${e+5}`,c.querySelector(u).textContent=m,Number(l)===m&&(s=document.querySelector(".pagination__item--active"),s&&(console.log("ja 2"),s.classList.remove("pagination__item--active")),c.querySelector(u).classList.add("pagination__item--active"));c.querySelector(".item2").textContent="...",c.querySelector(".item8").textContent="..."}if(a>=r-5)for(let e=-6;e<=0;e++)m=r+e,u=`.item${e+9}`,c.querySelector(u).textContent=m,c.querySelector(u).textContent=m,Number(l)===m&&(s=document.querySelector(".pagination__item--active"),s&&(console.log("ja 2"),s.classList.remove("pagination__item--active")),c.querySelector(u).classList.add("pagination__item--active")),c.querySelector(".item2").textContent="..."}function _(i){s=document.querySelector(".pagination__item--active"),s&&s.classList.remove("pagination__item--active"),t(o.galleryEl),a=i.target.innerText,"..."===i.target.innerText&&(i.target.classList.contains("item8")&&(a=Number(i.target.previousSibling.innerText)+1),i.target.classList.contains("item2")&&(a=Number(i.target.nextSibling.innerText)-1,console.log(a))),l=a,n(a).then((t=>{const n=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",n),g(t.results)}))}function f(){t(o.galleryEl),a=Number(a)+1,l=a,n(a).then((t=>{const n=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",n),g(t.results)}))}function p(){t(o.galleryEl),a=Number(a)-1,l=a,n(a).then((t=>{const n=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",n),g(t.results)}))}n(a).then((t=>{const n=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",n),console.log(t),r=t.total_pages,r>1&&g(t.results)}));
//# sourceMappingURL=index.f599469e.js.map
