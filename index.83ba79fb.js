!function(){function e(e){return e.map((function(e){var t=e.original_title,n=e.release_date,i=e.genre_ids,a=e.poster_path,r=m(i),o=new Date(n).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(a,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(t,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(r," | ").concat(o,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function t(e){e.innerHTML=""}function n(e){return fetch("".concat("https://api.themoviedb.org/3/trending/","movie/week?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))}var i=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){console.log("FFF",e),i=e.genres})).catch((function(e){return console.log(e)}));var a,r,o,c,l,s=1,u=1,d={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};function m(e){var t=[];return e.forEach((function(e){t.push(i.find((function(t){return t.id===e})).name)})),t}function f(e){d.incrementBtnEl.addEventListener("click",v),d.decrementBtnEl.addEventListener("click",p),console.log("i",u),d.paginationWrapEl.innerHTML='<ul class="pagination__list list"></ul>',(r=document.querySelector(".pagination__list")).addEventListener("click",g);for(var t=1;t<=9;t++){var n="item".concat(t),i=document.createElement("li");i.classList.add("pagination__item"),i.classList.add(n),i.innerText=s,r.appendChild(i),Number(u)===t&&i.classList.add("pagination__item--active")}if(r.firstChild.textContent="1",r.lastChild.textContent=a,s<=6){for(var m=2;m<=7;m++){var f=".item".concat(m);r.querySelector(f).textContent=m}r.querySelector(".item8").textContent="...",_()}if(s>6&&s<a-5){for(var h=-2;h<=2;h++)c=Number(u)+h,l=".item".concat(h+5),r.querySelector(l).textContent=c,Number(u)===c&&((o=document.querySelector(".pagination__item--active"))&&(console.log("ja 2"),o.classList.remove("pagination__item--active")),r.querySelector(l).classList.add("pagination__item--active"));r.querySelector(".item2").textContent="...",r.querySelector(".item8").textContent="...",_()}if(s>=a-5)for(var y=-6;y<=0;y++)c=a+y,l=".item".concat(y+9),r.querySelector(l).textContent=c,r.querySelector(l).textContent=c,Number(u)===c&&((o=document.querySelector(".pagination__item--active"))&&(console.log("ja 2"),o.classList.remove("pagination__item--active")),r.querySelector(l).classList.add("pagination__item--active")),r.querySelector(".item2").textContent="...",_()}function g(i){(o=document.querySelector(".pagination__item--active"))&&o.classList.remove("pagination__item--active"),t(d.galleryEl),s=i.target.innerText,"..."===i.target.innerText&&(i.target.classList.contains("item8")&&(s=Number(i.target.previousSibling.innerText)+1),i.target.classList.contains("item2")&&(s=Number(i.target.nextSibling.innerText)-1,console.log(s))),u=s,n(s).then((function(t){var n=e(t.results);d.galleryEl.insertAdjacentHTML("beforeend",n),f(t.results)}))}function _(){s<6&&r.classList.add("item--hidden-mob--1"),s>=6&&s<=a-5&&r.classList.add("item--hidden-mob--2"),s>a-5&&r.classList.add("item--hidden-mob--3")}function v(){t(d.galleryEl),s=Number(s)+1,u=s,n(s).then((function(t){var n=e(t.results);d.galleryEl.insertAdjacentHTML("beforeend",n),f(t.results)}))}function p(){t(d.galleryEl),s=Number(s)-1,u=s,n(s).then((function(t){var n=e(t.results);d.galleryEl.insertAdjacentHTML("beforeend",n),f(t.results)}))}n(s).then((function(t){var n=e(t.results);d.galleryEl.insertAdjacentHTML("beforeend",n),console.log(t),console.log(t.results),(a=t.total_pages)>1&&f(t.results)}))}();
//# sourceMappingURL=index.83ba79fb.js.map
