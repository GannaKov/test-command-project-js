function e(e){return e.map((({original_title:e,release_date:t,genre_ids:i,poster_path:n})=>`<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${n}"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${u(i)} | ${new Date(t).getFullYear()}\n          </p>\n        </div>\n      \n    </div>`)).join("")}function t(e){e.innerHTML=""}function i(e){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}let n=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n=e.genres})).catch((e=>console.log(e)));let r,a=1,l=1;const o={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};let s,c,d,m;function u(e){let t=[];return e.forEach((e=>{t.push(n.find((t=>t.id===e)).name)})),t}function g(e){o.incrementBtnEl.addEventListener("click",f),o.decrementBtnEl.addEventListener("click",y),console.log("i",l),o.paginationWrapEl.innerHTML='<ul class="pagination__list list"></ul>',s=document.querySelector(".pagination__list"),s.addEventListener("click",_);for(let e=1;e<=9;e++){const t=`item${e}`,i=document.createElement("li");i.classList.add("pagination__item"),i.classList.add(t),i.innerText=a,s.appendChild(i),Number(l)===e&&i.classList.add("pagination__item--active")}if(s.firstChild.textContent="1",s.lastChild.textContent=r,a<=6){for(let e=2;e<=7;e++){const t=`.item${e}`;s.querySelector(t).textContent=e}s.querySelector(".item8").textContent="...",s.querySelector(".item6").classList.add("item--hidden-mob"),s.querySelector(".item7").classList.add("item--hidden-mob"),s.querySelector(".item8").classList.add("item--hidden-mob"),s.querySelector(".item9").classList.add("item--hidden-mob")}if(a>6&&a<=r-5){for(let e=-2;e<=2;e++)d=Number(l)+e,m=`.item${e+5}`,s.querySelector(m).textContent=d,Number(l)===d&&(c=document.querySelector(".pagination__item--active"),c&&(console.log("ja 2"),c.classList.remove("pagination__item--active")),s.querySelector(m).classList.add("pagination__item--active"));s.querySelector(".item2").textContent="...",s.querySelector(".item8").textContent="...",s.querySelector(".item8").classList.add("item--hidden-mob"),s.querySelector(".item9").classList.add("item--hidden-mob"),s.querySelector(".item1").classList.add("item--hidden-mob"),s.querySelector(".item2").classList.add("item--hidden-mob")}if(a>=r-5)for(let e=-6;e<=0;e++)d=r+e,m=`.item${e+9}`,s.querySelector(m).textContent=d,s.querySelector(m).textContent=d,Number(l)===d&&(c=document.querySelector(".pagination__item--active"),c&&(console.log("ja 2"),c.classList.remove("pagination__item--active")),s.querySelector(m).classList.add("pagination__item--active")),s.querySelector(".item2").textContent="...",s.querySelector(".item1").classList.add("item--hidden-mob"),s.querySelector(".item2").classList.add("item--hidden-mob"),s.querySelector(".item3").classList.add("item--hidden-mob"),s.querySelector(".item4").classList.add("item--hidden-mob")}function _(n){c=document.querySelector(".pagination__item--active"),c&&c.classList.remove("pagination__item--active"),t(o.galleryEl),a=n.target.innerText,"..."===n.target.innerText&&(n.target.classList.contains("item8")&&(a=Number(n.target.previousSibling.innerText)+1),n.target.classList.contains("item2")&&(a=Number(n.target.nextSibling.innerText)-1,console.log(a))),l=a,i(a).then((t=>{const i=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",i),g(t.results)}))}function f(){t(o.galleryEl),a=Number(a)+1,l=a,i(a).then((t=>{const i=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",i),g(t.results)}))}function y(){t(o.galleryEl),a=Number(a)-1,l=a,i(a).then((t=>{const i=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",i),g(t.results)}))}i(a).then((t=>{const i=e(t.results);o.galleryEl.insertAdjacentHTML("beforeend",i),console.log(t),r=t.total_pages,r>1&&g(t.results)}));
//# sourceMappingURL=index.de3d83e0.js.map
