!function(){function n(n,t,e,i){Object.defineProperty(n,t,{get:e,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},i={},a=t.parcelRequired7c6;function o(n,t){n<6&&(p.paginationEl.classList.contains("item--hidden-mob--2")&&p.paginationEl.classList.remove("item--hidden-mob--2"),p.paginationEl.classList.contains("item--hidden-mob--3")&&p.paginationEl.classList.remove("item--hidden-mob--3"),p.paginationEl.classList.add("item--hidden-mob--1")),n>=6&&n<=t-5&&(p.paginationEl.classList.contains("item--hidden-mob--1")&&p.paginationEl.classList.remove("item--hidden-mob--1"),p.paginationEl.classList.contains("item--hidden-mob--3")&&p.paginationEl.classList.remove("item--hidden-mob--3"),p.paginationEl.classList.add("item--hidden-mob--2")),n>t-5&&(p.paginationEl.classList.contains("item--hidden-mob--1")&&p.paginationEl.classList.remove("item--hidden-mob--1"),p.paginationEl.classList.contains("item--hidden-mob--2")&&p.paginationEl.classList.remove("item--hidden-mob--2"),p.paginationEl.classList.add("item--hidden-mob--3"))}null==a&&((a=function(n){if(n in e)return e[n].exports;if(n in i){var t=i[n];delete i[n];var a={id:n,exports:{}};return e[n]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){i[n]=t},t.parcelRequired7c6=a),a.register("iE7OH",(function(t,e){var i,a;n(t.exports,"register",(function(){return i}),(function(n){return i=n})),n(t.exports,"resolve",(function(){return a}),(function(n){return a=n}));var o={};i=function(n){for(var t=Object.keys(n),e=0;e<t.length;e++)o[t[e]]=n[t[e]]},a=function(n){var t=o[n];if(null==t)throw new Error("Could not resolve bundle with id "+n);return t}})),a.register("dIOz2",(function(n,t){n.exports=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("iLcwi")})),a.register("aNJCr",(function(t,e){var i;n(t.exports,"getBundleURL",(function(){return i}),(function(n){return i=n}));var a={};function o(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(n){var t=a[n];return t||(t=function(){try{throw new Error}catch(t){var n=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return o(n[2])}return"/"}(),a[n]=t),t}})),a.register("acfp9",(function(n,t){n.exports=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("l1aLh")})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.d0ece875.js","iLcwi":"arrow-left.2b7bce11.svg","l1aLh":"arrow-right.91990ac8.svg","fvck6":"index.7ad156d9.css"}'));function r(n,t,e){return"".concat("https://api.themoviedb.org/3/trending/").concat(t,"/").concat(e,"?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(n)}function s(n,t,e,i){var s=[],c=[],l="";if(t<=6){for(var u=1;u<=7;u++)s.push(u),c.push(u);s.push("..."),c.push(8),s.push(n),c.push(n),o(t,n)}if(t>6&&t<n-5){s.push(1),c.push(1),s.push("..."),c.push(t-3);for(var d=t-2;d<=t+2;d++)s.push(d),c.push(d);s.push("..."),c.push(t+3),s.push(n),c.push(n),o(t,n)}if(t>=n-5){s.push(1),c.push(1),s.push("..."),c.push(n-7);for(var p=-6;p<=0;p++)s.push(n+p),c.push(n+p),o(t,n)}var f=0;s.forEach((function(n){var a=n===t?"pagination__item--active":"";l+='<li class="pagination__item item'.concat(f+=1,'"><a data-page="').concat(c[f-1],'" href="').concat(r(c[f-1],e,i),'" class="link pagination__link ').concat(a,' ">').concat(n,"</a></li>")}));var g=a("dIOz2"),h=a("acfp9");return'<button class="btn--decrement" data-page="'.concat(t-1,'" type="button"><img src="').concat(g,'" data-page="').concat(t-1,'" class="pagination__icon"  width="18" height="18"\n      alt="selectedItem"></button>\n        <div class="pagination__wrap">\n        <ul class="pagination__list list">\n        ').concat(l,' </ul>\n        </div>\n        \n        <button class="btn--increment" data-page="').concat(t+1,'" type="button" >\n    <img src="').concat(h,'" class="pagination__icon" data-page="').concat(t+1,' "width="18" height="18"></button>\n ')}function c(n){var t=[];return n.forEach((function(n){t.push(d.find((function(t){return t.id===n})).name)})),t}function l(n){return n.map((function(n){var t=n.original_title,e=n.release_date,i=n.genre_ids,a=n.poster_path,o=c(i);o.length>2&&(o=o.slice(0,2)).push("Other"),o=o.join(", ");var r=new Date(e).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(a,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(t,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(o," | ").concat(r,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function u(n,t){var e=l(n.results);t.insertAdjacentHTML("beforeend",e)}var d=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(n){if(!n.ok)throw new Error(n.status);return n.json()})).then((function(n){d=n.genres})).catch((function(n){return console.log(n)}));var p={galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination")};function f(n){var t,e,i;(t=n,e="movie",i="week",fetch(r(t,e,i)).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))).then((function(n){if(u(n,p.galleryEl),n.total_pages>1){var t=s(Number(n.total_pages),Number(n.page),"movie","week");p.paginationEl.innerHTML=t}}))}p.paginationEl.addEventListener("click",(function(n){n.preventDefault(),p.galleryEl.innerHTML="",console.log("e",n.target.dataset.page),f(n.target.dataset.page)})),f(1)}();
//# sourceMappingURL=index.d0ece875.js.map
