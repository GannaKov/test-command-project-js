!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};function n(e){return e.map((function(e){var t=e.original_title,n=e.release_date,i=e.genre_ids,r=e.poster_path,o=g(i),a=new Date(n).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(r,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(t,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(o," | ").concat(a,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function i(e){e.innerHTML=""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};function r(e){return fetch("".concat("https://api.themoviedb.org/3/trending/","movie/week?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))}var o=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){o=e.genres})).catch((function(e){return console.log(e)}));var a,c,l,s,u,d=1,m=1,f={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};function g(e){var t=[];return e.forEach((function(e){t.push(o.find((function(t){return t.id===e})).name)})),t}function _(e){f.incrementBtnEl.addEventListener("click",p),f.decrementBtnEl.addEventListener("click",y),console.log("i",m),f.paginationWrapEl.innerHTML='<ul class="pagination__list list"></ul>',(c=document.querySelector(".pagination__list")).addEventListener("click",v);for(var t=1;t<=9;t++){var n="item".concat(t),i=document.createElement("li");i.classList.add("pagination__item"),i.classList.add(n),i.innerText=d,c.appendChild(i),Number(m)===t&&i.classList.add("pagination__item--active")}if(c.firstChild.textContent="1",c.lastChild.textContent=a,d<=6){for(var r=2;r<=7;r++){var o=".item".concat(r);c.querySelector(o).textContent=r}c.querySelector(".item8").textContent="...",c.querySelector(".item8").setAttribute("action","plus")}if(d>6&&d<=a-5){for(var g=-2;g<=2;g++)s=Number(m)+g,u=".item".concat(g+5),c.querySelector(u).textContent=s,Number(m)===s&&((l=document.querySelector(".pagination__item--active"))&&(console.log("ja 2"),l.classList.remove("pagination__item--active")),c.querySelector(u).classList.add("pagination__item--active"));c.querySelector(".item2").textContent="...",c.querySelector(".item8").textContent="..."}if(d>=a-5)for(var _=-6;_<=0;_++)s=a+_,u=".item".concat(_+9),c.querySelector(u).textContent=s,c.querySelector(u).textContent=s,Number(m)===s&&((l=document.querySelector(".pagination__item--active"))&&(console.log("ja 2"),l.classList.remove("pagination__item--active")),c.querySelector(u).classList.add("pagination__item--active")),c.querySelector(".item2").textContent="..."}function v(e){(l=document.querySelector(".pagination__item--active"))&&l.classList.remove("pagination__item--active"),i(f.galleryEl),d=e.target.innerText,"..."===e.target.innerText&&(e.target.classList.contains("item8")&&(d=Number(e.target.previousSibling.innerText)+1),e.target.classList.contains("item2")&&(d=Number(e.target.nextSibling.innerText)-1,console.log(d))),m=d,r(d).then((function(e){var t=n(e.results);f.galleryEl.insertAdjacentHTML("beforeend",t),_(e.results)}))}function p(){i(f.galleryEl),d=Number(d)+1,m=d,r(d).then((function(e){var t=n(e.results);f.galleryEl.insertAdjacentHTML("beforeend",t),_(e.results)}))}function y(){i(f.galleryEl),console.log(void 0===m?"undefined":e(t)(m),void 0===d?"undefined":e(t)(d)),console.log(m,d),d=Number(d)-1,console.log("u",void 0===m?"undefined":e(t)(m),void 0===d?"undefined":e(t)(d)),console.log("u",m,d),m=d,r(d).then((function(e){var t=n(e.results);f.galleryEl.insertAdjacentHTML("beforeend",t),_(e.results)}))}r(d).then((function(e){var t=n(e.results);f.galleryEl.insertAdjacentHTML("beforeend",t),console.log(e),(a=e.total_pages)>1&&_(e.results)}))}();
//# sourceMappingURL=index.fc1528f3.js.map
