!function(){function n(n){return"".concat("https://api.themoviedb.org/3/trending/").concat("movie","/").concat("day","?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(n)}function t(t){return fetch(n(t)).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))}function a(n){var t=[];return n.forEach((function(n){t.push(o.find((function(t){return t.id===n})).name)})),t}function e(n){return n.map((function(n){var t=n.original_title,e=n.release_date,i=n.genre_ids,c=n.poster_path,o=a(i);o.length>2&&(o=o.slice(0,2)).push("Other"),o=o.join(", ");var r=new Date(e).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(c,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(t,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(o," | ").concat(r,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function i(n,t){var a=e(n.results);t.insertAdjacentHTML("beforeend",a)}function c(t,a){var e=[],i=[],c="";if(a<=6){for(var o=1;o<=7;o++)e.push(o),i.push(o);e.push("..."),i.push(8),e.push(t),i.push(t)}if(a>6&&a<t-5){e.push(1),i.push(1),e.push("..."),i.push(a-3);for(var r=a-2;r<=a+2;r++)e.push(r),i.push(r);e.push("..."),i.push(a+3),e.push(t),i.push(t)}if(a>=t-5){e.push(1),i.push(1),e.push("..."),i.push(t-7);for(var s=-6;s<=0;s++)e.push(t+s),i.push(t+s)}return e.forEach((function(t){var o=e.indexOf(t)+1,r=t===a?"pagination__item--active":"";c+='<li class="pagination__item item'.concat(o,'"><a data-page="').concat(i[o-1],'" href="').concat(n(i[o-1]),'" class="link pagination__link ').concat(r,' ">').concat(t,"</a></li>")})),'<button class="btn--decrement" data-page="'.concat(a-1,'" type="button" >\n    <svg data-page="').concat(a-1,'" class="pagination__icon"  width="16" height="16">\n     <use href="./images/icons.svg#icon-arrow-left"></use>\n    </svg>\n  </button>\n        <div class="pagination__wrap">\n        <ul class="pagination__list">\n        ').concat(c,' </ul>\n        </div>\n        \n        <button class="btn--increment" data-page="').concat(a+1,'" type="button" >\n    <svg class="pagination__icon" data-page="').concat(a+1,' "width="16" height="16">\n      <use href="./images/icons.svg#icon-arrow-right"></use>\n    </svg>\n  </button>')}var o=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(n){if(!n.ok)throw new Error(n.status);return n.json()})).then((function(n){o=n.genres})).catch((function(n){return console.log(n)}));var r={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};function s(n){t(n).then((function(n){if(i(n,r.galleryEl),n.total_pages>1){var t=c(Number(n.total_pages),Number(n.page));r.paginationEl.innerHTML=t}}))}r.paginationEl.addEventListener("click",(function(n){n.preventDefault(),console.log(n.target,n.target.dataset.page),s(n.target.dataset.page),console.log("ku")})),s(1)}();
//# sourceMappingURL=index.a6fd1ebf.js.map
