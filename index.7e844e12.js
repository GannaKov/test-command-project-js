!function(){function n(n,t,e){return console.log(t),"".concat("https://api.themoviedb.org/3/trending/").concat(t,"/").concat(e,"?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(n)}function t(t,e,a){return fetch(n(t,e,a)).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))}function e(n){n.innerHTML=""}function a(n){var t=[];return n.forEach((function(n){t.push(r.find((function(t){return t.id===n})).name)})),t}function i(n){return n.map((function(n){var t=n.original_title,e=n.release_date,i=n.genre_ids,c=n.poster_path,o=a(i);o.length>2&&(o=o.slice(0,2)).push("Other"),o=o.join(", ");var r=new Date(e).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(c,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(t,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(o," | ").concat(r,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function c(n,t){var e=i(n.results);t.insertAdjacentHTML("beforeend",e)}function o(t,e,a,i){var c=[],o=[],r="";if(e<=6){for(var s=1;s<=7;s++)c.push(s),o.push(s);c.push("..."),o.push(8),c.push(t),o.push(t)}if(e>6&&e<t-5){c.push(1),o.push(1),c.push("..."),o.push(e-3);for(var u=e-2;u<=e+2;u++)c.push(u),o.push(u);c.push("..."),o.push(e+3),c.push(t),o.push(t)}if(e>=t-5){c.push(1),o.push(1),c.push("..."),o.push(t-7);for(var l=-6;l<=0;l++)c.push(t+l),o.push(t+l)}return c.forEach((function(t){var s=c.indexOf(t)+1,u=t===e?"pagination__item--active":"";r+='<li class="pagination__item item'.concat(s,'"><a data-page="').concat(o[s-1],'" href="').concat(n(o[s-1],a,i),'" class="link pagination__link ').concat(u,' ">').concat(t,"</a></li>")})),'<button class="btn--decrement" data-page="'.concat(e-1,'" type="button" >\n    <svg data-page="').concat(e-1,'" class="pagination__icon"  width="16" height="16">\n     <use href="./images/icons.svg#icon-arrow-left"></use>\n    </svg>\n  </button>\n        <div class="pagination__wrap">\n        <ul class="pagination__list">\n        ').concat(r,' </ul>\n        </div>\n        \n        <button class="btn--increment" data-page="').concat(e+1,'" type="button" >\n    <svg class="pagination__icon" data-page="').concat(e+1,' "width="16" height="16">\n      <use href="./images/icons.svg#icon-arrow-right"></use>\n    </svg>\n  </button>')}var r=[];fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(n){if(!n.ok)throw new Error(n.status);return n.json()})).then((function(n){r=n.genres})).catch((function(n){return console.log(n)}));var s={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),paginationWrapEl:document.querySelector(".pagination__wrap"),decrementBtnEl:document.querySelector('button[data-action="decrement"]'),incrementBtnEl:document.querySelector('button[data-action="increment"]')};function u(n){t(n,"movie","week").then((function(n){if(c(n,s.galleryEl),n.total_pages>1){var t=o(Number(n.total_pages),Number(n.page),"movie","week");s.paginationEl.innerHTML=t}}))}s.paginationEl.addEventListener("click",(function(n){n.preventDefault(),e(s.galleryEl),u(n.target.dataset.page)})),u(1)}();
//# sourceMappingURL=index.7e844e12.js.map
